import{_ as s,c as i,o as a,a1 as n}from"./chunks/framework.CG9TfmPt.js";const y=JSON.parse('{"title":"网络知识","description":"","frontmatter":{},"headers":[],"relativePath":"DevOps/Network/网络知识记录.md","filePath":"DevOps/Network/网络知识记录.md"}'),h={name:"DevOps/Network/网络知识记录.md"},k=n(`<h1 id="网络知识" tabindex="-1">网络知识 <a class="header-anchor" href="#网络知识" aria-label="Permalink to &quot;网络知识&quot;">​</a></h1><blockquote><h2 id="网络基础" tabindex="-1">网络基础 <a class="header-anchor" href="#网络基础" aria-label="Permalink to &quot;网络基础&quot;">​</a></h2></blockquote><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1、二层交换机所有接口默认都在一个网段，即一个广播域，广播域</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 网段</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2、路由器或三层设备天然隔离广播域，即每个接口都属于不同网段</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">3、网关必须在三层设备</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">4、同网段通信在二层，跨网段通信三层，汇聚、核心都是三层</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">5、mac表</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 接口与mac对应关系</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 二层交换机</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  路由表</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 网段与下一跳的对应关系</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 三层</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  arp表</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip与mac对应关系</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 电脑客户端</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6、路由器或三层设备每个接口都有一个mac地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">7、vlan广播域变小，设备利用率更高</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">8、三层交换机接口默认二层接口，无法配置ip</span></span></code></pre></div><blockquote><h3 id="子网划分" tabindex="-1">子网划分 <a class="header-anchor" href="#子网划分" aria-label="Permalink to &quot;子网划分&quot;">​</a></h3></blockquote><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># IP地址包括网络地址和主机地址，子网掩码的作用就是判断哪些是网络位，哪些是主机位，最后算出同一个子网下的ip地址范围</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">128</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  64</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   32</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    16</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   8</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2^7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  2^6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  2^5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  2^4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  2^3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  2^1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  2^1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2^0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IP:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 195.169.20.25</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">掩码：255.255.255.240</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (16) 1 0 0 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">网络号：195.169.20.16</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">第一可用：195.169.20.17（16+1）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">最后可用：195.169.20.30（16+1111-最后四位主机位取值可变，即16+15</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">=31</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 31-1=30）最后一位为广播地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">广播地址：195.169.20.31</span></span></code></pre></div><blockquote><h3 id="网络拓扑分析-国产化" tabindex="-1">网络拓扑分析（国产化） <a class="header-anchor" href="#网络拓扑分析-国产化" aria-label="Permalink to &quot;网络拓扑分析（国产化）&quot;">​</a></h3></blockquote><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1、防火墙的eth8与网络接入交换机连接，eth8绑定3个vlan接口，vlan接口分别配置ip地址，eth8.10移动</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth8.11电信</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth8.21专线</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2、DMZ接入交换机与核心交换机都为网关，与边界防火墙通过直连IP地址进行互联</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">3、边界防火墙为两台独立设备配置主备模式，未进行堆叠，逻辑上未融合为一台</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">4、DMZ交换机与边界防火墙之间链路聚合：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DMZ交换机1、2堆叠后逻辑上为一台设备，边界防火墙各自独立，所以DMZ交换机端聚合为两台交换机的32、33光口进行聚合；边界防火墙端为每台防火墙设备上的eth12、eth13端口进行聚合bond0，主的配置会同步到备</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">链路聚合不能跨设备，两端必须都都是一个整体（物理是一台或者逻辑上是一台），对连接的多条线路进行聚合，增加带宽、提供冗余、进行负载</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DMZ交换机</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vlan-if131</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10.53.131.1/24</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vlan-if2000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10.53.167.2/30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">互联</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">5、防火墙与核心交换机之间的WAF为透明模式二层，只做连接作用，不涉及ip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6、防火墙配置不同安全域，安全域绑定接口，通过网络策略配置允许源到目的放行，选择流入域或流出域进行命中</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">7、自主可控区域核心交换机（vlanif2012</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10.53.167.17/30）与产业互联网区域核心交换机（RAGG10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10.53.167.18）互联,中间串着内网防火墙（二层只做数据转发及过滤，不涉及ip地址）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">8、防火墙原来有两个口分别与dmz接入交换机（10.53.167.1和2）和WAF（10.53.167.5和6）通过直连IP进行直连，现在ips和av二层透明模式串在干道上，相当于防火墙上由原来的2个接口变为一个接口了，即防火墙、dmz接入交换机、waf三个设备通过交换机互联，需要改造为IP地址在同一网段。</span></span></code></pre></div>`,7),l=[k];function p(t,e,F,C,d,r){return a(),i("div",null,l)}const B=s(h,[["render",p]]);export{y as __pageData,B as default};
