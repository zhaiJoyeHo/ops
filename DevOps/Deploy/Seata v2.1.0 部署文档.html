<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Seata v2.1.0 部署 | LTSK-运维知识库</title>
    <meta name="description" content="关注运维技术">
    <meta name="generator" content="VitePress v1.2.3">
    <link rel="preload stylesheet" href="/ops/assets/style.BqpOtm2H.css" as="style">
    
    <script type="module" src="/ops/assets/app.qQ5_3PyI.js"></script>
    <link rel="preload" href="/ops/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/ops/assets/chunks/framework.CG9TfmPt.js">
    <link rel="modulepreload" href="/ops/assets/chunks/theme.DFosOuHg.js">
    <link rel="modulepreload" href="/ops/assets/DevOps_Deploy_Seata v2.1.0 部署文档.md.BUV2VgTW.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/ops/" data-v-ab179fa1><!--[--><!--]--><!----><span data-v-ab179fa1>LTSK-运维知识库</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ops/" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ops/DevOps/Kubernetes/index.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Kubernetes</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ops/DevOps/Linux/index.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Linux</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ops/DevOps/Deploy/index.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>部署</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ops/DevOps/MySQL/index.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>数据库</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ops/DevOps/Network/index.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>网络</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 has-active" data-v-575e6a36 data-v-b8d55f3b><!----><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/ops/DevOps/Deploy/%E4%BA%91%E9%93%BE%E9%80%9A%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>0. 云链通配置信息</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/ops/DevOps/Deploy/RocketMQ%205.2.0%20%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>1. RocketMQ-V5.2.0-部署文档</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/ops/DevOps/Deploy/Minio%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>2. Minio-部署文档</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/ops/DevOps/Deploy/Seata%20v2.1.0%20%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>3. Seata-V2.1.0-部署文档</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/ops/DevOps/Deploy/%E5%8F%91%E5%B8%83%E5%B9%B3%E5%8F%B0%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>4. ylt发布平台-部署文档</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/ops/DevOps/Deploy/%E6%96%87%E4%BB%B6%E5%AE%9E%E6%97%B6%E5%90%8C%E6%AD%A5%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>5. rsync+inotify-部署文档</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/ops/DevOps/Deploy/Mysql%208.4.2%20%E4%B8%BB%E4%BB%8E%E5%90%8C%E6%AD%A5%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>6. MySQL8.4.2-主从-部署文档</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/ops/DevOps/Deploy/fluentd-k8s%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>7. fluentd-k8s-部署文档</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/ops/DevOps/Deploy/kibana-%E8%AE%BE%E7%BD%AEes%E7%B4%A2%E5%BC%95%E8%BF%87%E6%9C%9F.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>8. kibana-设置es索引过期</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _ops_DevOps_Deploy_Seata%20v2_1_0%20%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3" data-v-39a288b8><div><h1 id="seata-v2-1-0-部署" tabindex="-1">Seata v2.1.0 部署 <a class="header-anchor" href="#seata-v2-1-0-部署" aria-label="Permalink to &quot;Seata v2.1.0 部署&quot;">​</a></h1><p><strong>注：</strong></p><ol><li><p>spring-cloud-alibaba 各组件版本依赖关系：</p><p><a href="https://github.com/alibaba/spring-cloud-alibaba/wiki/%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E" target="_blank" rel="noreferrer">https://github.com/alibaba/spring-cloud-alibaba/wiki/版本说明</a></p></li><li><p>seata v1.5以后的版本部署发生了变化，需要挂载 application.yml 文件；之前版本部署可以参考：<a href="https://seata.apache.org/zh-cn/docs/ops/deploy-by-kubernetes/%EF%BC%8C**%E4%BD%86%E6%96%B0%E7%89%88%E6%9C%AC%E7%9A%84%E9%83%A8%E7%BD%B2%E6%9C%80%E5%A5%BD%E5%8F%82%E8%80%83%E8%8B%B1%E6%96%87%E6%96%87%E6%A1%A3**%E3%80%82" target="_blank" rel="noreferrer">https://seata.apache.org/zh-cn/docs/ops/deploy-by-kubernetes/，**但新版本的部署最好参考英文文档**。</a></p></li></ol><h2 id="_1、准备安装相关文件" tabindex="-1">1、准备安装相关文件 <a class="header-anchor" href="#_1、准备安装相关文件" aria-label="Permalink to &quot;1、准备安装相关文件&quot;">​</a></h2><h3 id="_1-1-application-yml-配置文件" tabindex="-1">1.1 application.yml 配置文件 <a class="header-anchor" href="#_1-1-application-yml-配置文件" aria-label="Permalink to &quot;1.1 application.yml 配置文件&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">vim application.yml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#  Copyright 1999-2019 Seata.io Group.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#  you may not use this file except in compliance with the License.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#  You may obtain a copy of the License at</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#  http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#  Unless required by applicable law or agreed to in writing, software</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#  See the License for the specific language governing permissions and</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#  limitations under the License.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7091</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spring</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata-server</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">logging</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">classpath:logback-spring.xml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">${log.home:${user.home}/logs/seata}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    username</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">seata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # support: nacos, consul, apollo, zk, etcd3</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nacos</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    nacos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      server-addr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nacos.default.svc.cluster.local:8848</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SEATA_GROUP</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      cluster</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">default</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">public</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      username</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nacos</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nacos</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      data-id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seataServer.properties</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  registry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # support: nacos, eureka, redis, zk, consul, etcd3, sofa</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nacos</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    nacos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata-server</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      server-addr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nacos.default.svc.cluster.local:8848</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SEATA_GROUP</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      cluster</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">default</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">public</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      username</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nacos</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nacos</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # store配置也可以在 nacos 中配置，如果这里和 nacos 中都有配置，以nacos中的为准</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  store</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # support: file 、 db 、 redis 、 raft</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">db</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    db</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      datasource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">druid</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      db-type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mysql</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      driver-class-name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">jdbc:mysql://10.0.0.191:3306/seata</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      min-conn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      max-conn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  #  server:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  #    service-port: 8091 #If not configured, the default is &#39;${server.port} + 1000&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  security</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    secretKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SeataSecretKey0c382ef121d778043159209298fd40bf3850a017</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    tokenValidityInMilliseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1800000</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ignore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      urls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/,/**/*.css,/**/*.js,/**/*.html,/**/*.map,/**/*.svg,/**/*.png,/**/*.jpeg,/**/*.ico,/api/v1/auth/login,/metadata/v1/**,/**/*.json,/saga-statemachine-designer/*</span></span></code></pre></div><h3 id="_1-2-service-yaml-文件" tabindex="-1">1.2 service yaml 文件 <a class="header-anchor" href="#_1-2-service-yaml-文件" aria-label="Permalink to &quot;1.2 service yaml 文件&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">v1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Service</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata-server</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xxx</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    k8s-app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata-server</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NodePort</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8091</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      nodePort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30091</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">TCP</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">service</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7091</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      nodePort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30092</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">TCP</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">console</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  selector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    k8s-app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata-server</span></span></code></pre></div><h3 id="_1-3-deployment-yaml-文件" tabindex="-1">1.3 Deployment yaml 文件 <a class="header-anchor" href="#_1-3-deployment-yaml-文件" aria-label="Permalink to &quot;1.3 Deployment yaml 文件&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">apps/v1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deployment</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata-server</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xxx</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    k8s-app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata-server</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  replicas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  selector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    matchLabels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      k8s-app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata-server</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        k8s-app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata-server</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      containers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata-server</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">docker.io/seataio/seata-server:latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          imagePullPolicy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">IfNotPresent</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">service</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">              containerPort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8091</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">              protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">TCP</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">console</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">              containerPort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7091</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">              protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">TCP</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          volumeMounts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata-config</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">              mountPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/seata-server/resources/application.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">              subPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">application.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata-config</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          configMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">            name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">seata-server-config</span></span></code></pre></div><h2 id="_2、执行部署" tabindex="-1">2、执行部署 <a class="header-anchor" href="#_2、执行部署" aria-label="Permalink to &quot;2、执行部署&quot;">​</a></h2><h3 id="_2-1-创建-configmap" tabindex="-1">2.1 创建 configmap <a class="header-anchor" href="#_2-1-创建-configmap" aria-label="Permalink to &quot;2.1 创建 configmap&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configmap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seata-server-config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --from-file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> application.ym</span></span></code></pre></div><h3 id="_2-2-nacos-上创建配置" tabindex="-1">2.2 nacos 上创建配置 <a class="header-anchor" href="#_2-2-nacos-上创建配置" aria-label="Permalink to &quot;2.2 nacos 上创建配置&quot;">​</a></h3><p>​ Data ID: seataServer.properties</p><p>​ Group: SEATA_GROUP</p><p>​ 配置格式: Properties</p><p>​ 配置内容: （来源于线上环境）</p><div class="language-properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=TCP</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=NIO</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.heartbeat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.enableClientBatchSendRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.bossThreadPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=NettyBoss</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.workerThreadPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=NettyServerNIOWorker</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.serverExecutorThreadPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=NettyServerBizHandler</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.shareBossWorker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.clientSelectorThreadPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=NettyClientSelector</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.clientSelectorThreadSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.clientWorkerThreadPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=NettyClientWorkerThread</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.bossThreadSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.workerThreadSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=default</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.shutdown.wait</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.default.grouplist</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=seata-server.default.svc.cluster.local:8091</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.enableDegrade</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.disableGlobalTransaction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.asyncCommitBufferLimit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.lock.retryInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.lock.retryTimes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=30</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.lock.retryPolicyBranchRollbackOnConflict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.reportRetryCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.tableMetaCheckEnable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.tableMetaCheckerInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=60000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.sqlParserType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=druid</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.reportSuccessEnable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.sagaBranchRegisterEnable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.tm.commitRetryCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.tm.rollbackRetryCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.tm.defaultGlobalTransactionTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=60000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.tm.degradeCheck</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.tm.degradeCheckAllowTimes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.tm.degradeCheckPeriod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=2000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=db</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.publicKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.datasource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=druid</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.dbType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=mysql</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.driverClassName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=jdbc:mysql://10.0.0.191:3306/seata?</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">serverTimezone</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=Asia/Shanghai&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">useUnicode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">characterEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=utf8&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">useSSL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=seata</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=seata</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.minConn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=8</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.maxConn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=30</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.globalTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=global_table</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.branchTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=branch_table</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.queryLimit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.lockTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=lock_table</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.maxWait</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=5000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.recovery.committingRetryPeriod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.recovery.asynCommittingRetryPeriod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.recovery.rollbackingRetryPeriod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.recovery.timeoutRetryPeriod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.maxCommitRetryTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=-1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.maxRollbackRetryTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=-1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.rollbackRetryTimeoutUnlockEnable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.undo.dataValidation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.undo.logSerialization</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=jackson</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.undo.onlyCareUpdateColumns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.undo.logSaveDays</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=7</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.undo.logDeletePeriod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=86400000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.undo.logTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=undo_log</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.undo.compress.enable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.undo.compress.type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=zip</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.undo.compress.threshold</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=64k</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">log.exceptionRate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.serialization</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=seata</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.compressor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=none</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">metrics.enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">metrics.registryType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=compact</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">metrics.exporterList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=prometheus</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">metrics.exporterPrometheusPort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=9898</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.vgroupMapping.ltd-mmt-bff-tx-group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=default</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.vgroupMapping.ltd-mmtportal-bff-tx-group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=default</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.vgroupMapping.ltd-customer-biz-tx-group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=default</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.vgroupMapping.ltd-mmt-app-service-biff-tx-group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=default</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.vgroupMapping.ltd-oms-bff-tx-group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=default</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.vgroupMapping.ltd-order-biz-tx-group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=default</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.vgroupMapping.ltd-industrial-biz-tx-group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=default</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.vgroupMapping.ltd-rbac-biz-tx-group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=default</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.vgroupMapping.ltd-mmt-watertransport-bff-tx-group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=default</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.vgroupMapping.ltd-mmt-watertransport-portal-bff-tx-group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=default</span></span></code></pre></div><p><strong>下面的配置根据官方安装包（./seata/script/config-center/config.txt）修改而来</strong>，一定要修改 store.db.driverClassName 和 store.db.url，否则连不上数据库，一直报错；</p><p>com.mysql.jdbc.Driver 和 com.mysql.cj.jdbc.Driver 的区别，可以参考：</p><p>​ <a href="https://blog.csdn.net/a907691592/article/details/96876030" target="_blank" rel="noreferrer">https://blog.csdn.net/a907691592/article/details/96876030</a></p><div class="language-properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#For details about configuration items, see https://seata.io/zh-cn/docs/user/configurations.html</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#Transport configuration, for client and server</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=TCP</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=NIO</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.heartbeat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.enableTmClientBatchSendRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.enableRmClientBatchSendRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.enableTcServerBatchSendResponse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.rpcRmRequestTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=30000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.rpcTmRequestTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=30000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.rpcTcRequestTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=30000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.bossThreadPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=NettyBoss</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.workerThreadPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=NettyServerNIOWorker</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.serverExecutorThreadPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=NettyServerBizHandler</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.shareBossWorker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.clientSelectorThreadPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=NettyClientSelector</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.clientSelectorThreadSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.clientWorkerThreadPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=NettyClientWorkerThread</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.bossThreadSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.threadFactory.workerThreadSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=default</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.shutdown.wait</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.serialization</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=seata</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transport.compressor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=none</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#Transaction routing rules configuration, only for the client</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.vgroupMapping.default_tx_group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=default</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#If you use a registry, you can ignore it</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.default.grouplist</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=seata-server.default.svc.cluster.local:8091</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.enableDegrade</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">service.disableGlobalTransaction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.metadataMaxAgeMs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=30000</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#Transaction rule configuration, only for the client</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.asyncCommitBufferLimit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.lock.retryInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.lock.retryTimes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=30</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.lock.retryPolicyBranchRollbackOnConflict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.reportRetryCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.tableMetaCheckEnable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.tableMetaCheckerInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=60000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.sqlParserType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=druid</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.reportSuccessEnable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.sagaBranchRegisterEnable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.sagaJsonParser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=fastjson</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.tccActionInterceptorOrder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=-2147482648</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.rm.sqlParserType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=druid</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.tm.commitRetryCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.tm.rollbackRetryCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.tm.defaultGlobalTransactionTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=60000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.tm.degradeCheck</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.tm.degradeCheckAllowTimes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.tm.degradeCheckPeriod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=2000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.tm.interceptorOrder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=-2147482648</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.undo.dataValidation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.undo.logSerialization</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=jackson</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.undo.onlyCareUpdateColumns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.undo.logSaveDays</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=7</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.undo.logDeletePeriod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=86400000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.undo.logTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=undo_log</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.undo.compress.enable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.undo.compress.type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=zip</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">client.undo.compress.threshold</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=64k</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#For TCC transaction mode</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">tcc.fence.logTableName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=tcc_fence_log</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">tcc.fence.cleanPeriod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1h</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># You can choose from the following options: fastjson, jackson, gson</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">tcc.contextJsonParserType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=fastjson</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#Log rule configuration, for client and server</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">log.exceptionRate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=100</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#Transaction storage configuration, only for the server. The file, db, and redis configuration values are optional.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=db</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.lock.mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=db</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.session.mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=db</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#Used for password encryption</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.publicKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#These configurations are required if the `store mode` is `db`. If `store.mode,store.lock.mode,store.session.mode` are not equal to `db`, you can remove the configuration block.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.datasource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=druid</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.dbType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=mysql</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># store.db.driverClassName=com.mysql.jdbc.Driver</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># store.db.url=jdbc:mysql://10.0.0.191:3306/seata?useUnicode=true&amp;rewriteBatchedStatements=true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.driverClassName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=jdbc:mysql://10.0.0.191:3306/seata?</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">serverTimezone</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=Asia/Shanghai&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">useUnicode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">characterEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=utf8&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">useSSL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=seata</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=seata</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.minConn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.maxConn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=30</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.globalTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=global_table</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.branchTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=branch_table</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.distributedLockTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=distributed_lock</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.queryLimit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.lockTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=lock_table</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">store.db.maxWait</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=5000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#Transaction rule configuration, only for the server</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.recovery.committingRetryPeriod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.recovery.asynCommittingRetryPeriod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.recovery.rollbackingRetryPeriod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.recovery.timeoutRetryPeriod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.maxCommitRetryTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=-1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.maxRollbackRetryTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=-1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.rollbackRetryTimeoutUnlockEnable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.distributedLockExpireTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.session.branchAsyncQueueSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=5000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.session.enableBranchAsyncRemove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.enableParallelRequestHandle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server.enableParallelHandleBranch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#Metrics configuration, only for the server</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">metrics.enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">metrics.registryType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=compact</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">metrics.exporterList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=prometheus</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">metrics.exporterPrometheusPort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=9898</span></span></code></pre></div><h3 id="_2-3-创建数据库表" tabindex="-1">2.3 创建数据库表 <a class="header-anchor" href="#_2-3-创建数据库表" aria-label="Permalink to &quot;2.3 创建数据库表&quot;">​</a></h3><div class="language-tex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tex</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">建表语句在 ./seata/script/server/db/mysql.sql 中，创建好数据库后直接导入即可；</span></span></code></pre></div><h3 id="_2-4-创建-deployment" tabindex="-1">2.4 创建 deployment <a class="header-anchor" href="#_2-4-创建-deployment" aria-label="Permalink to &quot;2.4 创建 deployment&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apply</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seata-deployment.yaml</span></span></code></pre></div><h3 id="_2-4-创建-service" tabindex="-1">2.4 创建 service <a class="header-anchor" href="#_2-4-创建-service" aria-label="Permalink to &quot;2.4 创建 service&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apply</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seata-service.yaml</span></span></code></pre></div><h2 id="_3、访问控制台" tabindex="-1">3、访问控制台 <a class="header-anchor" href="#_3、访问控制台" aria-label="Permalink to &quot;3、访问控制台&quot;">​</a></h2><p>![image-20240520100744396](/Users/juncai/Library/Application Support/typora-user-images/image-20240520100744396.png)</p><p><strong>注：</strong></p><p>​ 控制访问页面时，如遇到报错 401 的内容，在 application.yml 配置中的 security.ignore.urls 项中按照规则配置上该页面即可。可参考：<a href="https://github.com/apache/incubator-seata/issues/5689" target="_blank" rel="noreferrer">https://github.com/apache/incubator-seata/issues/5689</a></p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-d4a0bba5><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-d4a0bba5><span class="visually-hidden" id="doc-footer-aria-label" data-v-d4a0bba5>Pager</span><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link prev" href="/ops/DevOps/Deploy/Minio%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3.html" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>Previous page</span><span class="title" data-v-d4a0bba5>2. Minio-部署文档</span><!--]--></a></div><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link next" href="/ops/DevOps/Deploy/%E5%8F%91%E5%B8%83%E5%B9%B3%E5%8F%B0%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3.html" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>Next page</span><span class="title" data-v-d4a0bba5>4. ylt发布平台-部署文档</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"devops_deploy_index.md\":\"B0q9nLLe\",\"devops_kubernetes_【k8s-故障排查-01】-故障-排查思路汇总.md\":\"D3fMNgmD\",\"devops_kubernetes_【k8s-集群证书-01】-kubeadm-证书更新.md\":\"C2jhRu1u\",\"devops_deploy_kibana-设置es索引过期.md\":\"DI9nV6Tz\",\"devops_mysql_index.md\":\"isehDFWl\",\"devops_kubernetes_【k8s-故障排查-02】-故障-calico启动失败.md\":\"D1Kcv54n\",\"api-examples.md\":\"D1lSbE-n\",\"markdown-examples.md\":\"DGKJNemY\",\"devops_mysql_vastbase外部数据.md\":\"Dh0RbLRQ\",\"devops_linux_index.md\":\"DJm_wxJa\",\"devops_linux_【linux-磁盘扩容-01】-lvm逻辑卷管理.md\":\"B-Hkx_4P\",\"devops_mysql_mysql8.4设置密码规则.md\":\"CqxXLqN6\",\"devops_kubernetes_【k8s-集群证书-02】-kubelet-证书轮换失败处理.md\":\"vjCBSKYB\",\"devops_network_tcp端口转发-rinetd.md\":\"DbE1EzhT\",\"devops_kubernetes_index.md\":\"DFzsFcJP\",\"devops_network_index.md\":\"DJen84k-\",\"devops_network_安全扫描工具-clamav.md\":\"CTNJvluL\",\"devops_mysql_vastbase-zcbus同步.md\":\"_zuBWGu-\",\"devops_deploy_rocketmq 5.2.0 部署文档.md\":\"DdBH-IZ3\",\"index.md\":\"boEUd5PG\",\"devops_deploy_文件实时同步部署文档.md\":\"C6ZshSeZ\",\"devops_kubernetes_【k8s-存储-01】-configmap.md\":\"BFnVVZXi\",\"devops_mysql_vastbase时钟同步.md\":\"fwgpMtDV\",\"devops_deploy_seata v2.1.0 部署文档.md\":\"BUV2VgTW\",\"devops_deploy_mysql 8.4.2 主从同步部署文档.md\":\"DrSZ2mlC\",\"devops_deploy_minio部署文档.md\":\"BALsuiB6\",\"devops_linux_linux常用命令记录.md\":\"C7ubCBON\",\"devops_mysql_vastbase常用操作.md\":\"CpwNUGY-\",\"devops_kubernetes_【k8s-部署安装-01】-v1.28.2-部署文档.md\":\"DpVRH1vF\",\"devops_deploy_fluentd-k8s部署文档.md\":\"BJUNZt2p\",\"devops_deploy_发布平台部署文档.md\":\"kGY2MS7r\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"LTSK-运维知识库\",\"description\":\"关注运维技术\",\"base\":\"/ops/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"Kubernetes\",\"link\":\"/DevOps/Kubernetes/index.md\"},{\"text\":\"Linux\",\"link\":\"/DevOps/Linux/index.md\"},{\"text\":\"部署\",\"link\":\"/DevOps/Deploy/index.md\"},{\"text\":\"数据库\",\"link\":\"/DevOps/MySQL/index.md\"},{\"text\":\"网络\",\"link\":\"/DevOps/Network/index.md\"}],\"sidebar\":{\"/DevOps/Kubernetes/\":[{\"text\":\"部署安装\",\"collapsed\":true,\"items\":[{\"text\":\"1. K8S-V1.28.2-部署文档\",\"link\":\"/DevOps/Kubernetes/【K8S-部署安装-01】-V1.28.2-部署文档\"}]},{\"text\":\"集群证书\",\"collapsed\":true,\"items\":[{\"text\":\"1. K8S-集群-证书更新\",\"link\":\"/DevOps/Kubernetes/【K8S-集群证书-01】-kubeadm-证书更新\"},{\"text\":\"2. K8S-集群-客户端证书\",\"link\":\"/DevOps/Kubernetes/【K8S-集群证书-02】-kubelet-证书轮换失败处理\"}]},{\"text\":\"集群存储\",\"collapsed\":true,\"items\":[{\"text\":\"1. K8S-存储-ConfigMap\",\"link\":\"/DevOps/Kubernetes/【K8S-存储-01】-ConfigMap\"},{\"text\":\"2. K8S-存储-Secret\",\"link\":\"/DevOps/Kubernetes/【K8S-存储-02】-Secret\"}]},{\"text\":\"日常运维\",\"collapsed\":true,\"items\":[{\"text\":\"1. K8S-V1.28.2-部署文档\",\"link\":\"/DevOps/Kubernetes/【K8S-部署安装-01】-V1.28.2-部署文档\"}]},{\"text\":\"故障排查\",\"collapsed\":true,\"items\":[{\"text\":\"1. K8S-故障-排查思路\",\"link\":\"/DevOps/Kubernetes/【K8S-故障排查-01】-故障-排查思路汇总\"},{\"text\":\"2. K8S-故障-calico启动失败\",\"link\":\"/DevOps/Kubernetes/【K8S-故障排查-02】-故障-Calico启动失败\"}]}],\"/DevOps/Deploy/\":[{\"items\":[{\"text\":\"0. 云链通配置信息\",\"link\":\"/DevOps/Deploy/云链通项目配置信息\"},{\"text\":\"1. RocketMQ-V5.2.0-部署文档\",\"link\":\"/DevOps/Deploy/RocketMQ 5.2.0 部署文档\"},{\"text\":\"2. Minio-部署文档\",\"link\":\"/DevOps/Deploy/Minio部署文档\"},{\"text\":\"3. Seata-V2.1.0-部署文档\",\"link\":\"/DevOps/Deploy/Seata v2.1.0 部署文档\"},{\"text\":\"4. ylt发布平台-部署文档\",\"link\":\"/DevOps/Deploy/发布平台部署文档\"},{\"text\":\"5. rsync+inotify-部署文档\",\"link\":\"/DevOps/Deploy/文件实时同步部署文档\"},{\"text\":\"6. MySQL8.4.2-主从-部署文档\",\"link\":\"/DevOps/Deploy/Mysql 8.4.2 主从同步部署文档\"},{\"text\":\"7. fluentd-k8s-部署文档\",\"link\":\"/DevOps/Deploy/fluentd-k8s部署文档\"},{\"text\":\"8. kibana-设置es索引过期\",\"link\":\"/DevOps/Deploy/kibana-设置es索引过期\"}]}],\"/DevOps/MySQL/\":[{\"items\":[{\"text\":\"1. vastbase-日常运维\",\"link\":\"/DevOps/MySQL/vastbase常用操作\"},{\"text\":\"2. vastbase-时钟同步\",\"link\":\"/DevOps/MySQL/vastbase时钟同步\"},{\"text\":\"3. vastbase-数据调用\",\"link\":\"/DevOps/MySQL/vastbase外部数据\"},{\"text\":\"4. vastbase-zcbus同步\",\"link\":\"/DevOps/MySQL/vastbase-zcbus同步\"},{\"text\":\"5. mysql8.4-设置密码规则\",\"link\":\"/DevOps/MySQL/mysql8.4设置密码规则\"}]}],\"/DevOps/Linux/\":[{\"items\":[{\"text\":\"Linux-工作常用命令\",\"link\":\"/DevOps/Linux/Linux常用命令记录\"},{\"text\":\"LVM-逻辑卷管理\",\"link\":\"/DevOps/Linux/【Linux-磁盘扩容-01】-LVM逻辑卷管理\"}]}],\"/DevOps/Network/\":[{\"items\":[{\"text\":\"网络运维信息-LTSK\",\"link\":\"/DevOps/Network/网络运维信息-龙腾数科\"},{\"text\":\"网络知识记录\",\"link\":\"/DevOps/Network/网络知识记录\"},{\"text\":\"TCP端口转发-rinetd\",\"link\":\"/DevOps/Network/TCP端口转发-rinetd\"},{\"text\":\"安全扫描工具-clamav\",\"link\":\"/DevOps/Network/安全扫描工具-clamav\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>